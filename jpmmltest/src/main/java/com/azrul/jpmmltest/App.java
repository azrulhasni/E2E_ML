/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.azrul.jpmmltest;

import com.fasterxml.jackson.databind.ObjectMapper;
import com.fasterxml.jackson.databind.type.CollectionType;
import java.io.File;
import java.io.InputStream;
import java.net.URL;
import java.util.Arrays;
import java.util.Collections;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.logging.Level;
import java.util.logging.Logger;
import org.dmg.pmml.FieldName;
import org.dmg.pmml.OpType;
import org.dmg.pmml.PMML;
import org.dmg.pmml.baseline.FieldValue;
import org.jpmml.evaluator.Evaluator;
import org.jpmml.evaluator.InputField;
import org.jpmml.evaluator.LoadingModelEvaluatorBuilder;
import org.jpmml.evaluator.ModelEvaluator;
import org.jpmml.evaluator.ModelEvaluatorFactory;
import java.util.ArrayList;
import org.jpmml.evaluator.EvaluatorUtil;
import org.jpmml.evaluator.TargetField;
import org.jpmml.evaluator.tree.ComplexTreeModelEvaluator;

/**
 *
 * @author azrul
 */
public class App {

    public static void main(String[] args) {
        try {
            App app = new App();
            app.runWithJson();
        } catch (Exception ex) {
            Logger.getLogger(App.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    public void runWithJson() throws Exception {
        URL resource = getClass().getClassLoader().getResource("default_model_normal.pmml");

        Evaluator evaluator = new LoadingModelEvaluatorBuilder()
                .load(new File(resource.toURI()))
                .build();

        String json = "[{\"loan_amnt\":12000,\"funded_amnt\":12000,\"funded_amnt_inv\":12000,\"term\":\"60 months\",\"int_rate\":10.75,\"installment\":259.42,\"annual_inc\":56000,\"pymnt_plan\":\"n\",\"dti\":33.05,\"fico_range_low\":695,\"fico_range_high\":699,\"open_acc\":19,\"revol_bal\":164253,\"revol_util\":89,\"total_acc\":44,\"out_prncp\":5579.61,\"out_prncp_inv\":5579.61,\"total_pymnt\":9331.95,\"total_pymnt_inv\":9331.95,\"total_rec_prncp\":6420.39,\"total_rec_int\":2911.56,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":259.42,\"last_fico_range_high\":709,\"last_fico_range_low\":705,\"application_type\":\"Individual\",\"tot_cur_bal\":372555,\"open_acc_6m\":0,\"open_act_il\":1,\"open_il_24m\":1,\"total_bal_il\":10079,\"il_util\":72,\"open_rv_12m\":0,\"open_rv_24m\":3,\"max_bal_bc\":13129,\"all_util\":89,\"total_rev_hi_lim\":184900,\"acc_open_past_24mths\":4,\"avg_cur_bal\":26611,\"bc_open_to_buy\":4875,\"bc_util\":67,\"mo_sin_old_rev_tl_op\":449,\"mo_sin_rcnt_rev_tl_op\":16,\"mo_sin_rcnt_tl\":10,\"mort_acc\":4,\"mths_since_recent_bc\":16,\"num_actv_bc_tl\":6,\"num_actv_rev_tl\":12,\"num_bc_sats\":17,\"num_bc_tl\":24,\"num_il_tl\":1,\"num_op_rev_tl\":12,\"num_rev_accts\":40,\"num_rev_tl_bal_gt_0\":12,\"num_sats\":14,\"num_tl_op_past_12m\":1,\"pct_tl_nvr_dlq\":84,\"percent_bc_gt_75\":50,\"tot_hi_cred_lim\":408588,\"total_bal_ex_mort\":34071,\"total_bc_limit\":29250,\"total_il_high_credit_limit\":14039,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":153631},{\"loan_amnt\":7000,\"funded_amnt\":7000,\"funded_amnt_inv\":7000,\"term\":\"36 months\",\"int_rate\":11.67,\"installment\":231.4,\"annual_inc\":79000,\"pymnt_plan\":\"n\",\"dti\":12.27,\"fico_range_low\":820,\"fico_range_high\":824,\"open_acc\":4,\"revol_bal\":164,\"revol_util\":0.9,\"total_acc\":12,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":8327.6375,\"total_pymnt_inv\":8327.64,\"total_rec_prncp\":7000,\"total_rec_int\":1327.64,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":232.08,\"last_fico_range_high\":759,\"last_fico_range_low\":755,\"application_type\":\"Individual\",\"tot_cur_bal\":222757,\"total_rev_hi_lim\":19000,\"acc_open_past_24mths\":1,\"avg_cur_bal\":55689,\"bc_open_to_buy\":18836,\"bc_util\":0.9,\"mo_sin_old_rev_tl_op\":260,\"mo_sin_rcnt_rev_tl_op\":41,\"mo_sin_rcnt_tl\":7,\"mort_acc\":3,\"mths_since_recent_bc\":130,\"num_actv_bc_tl\":2,\"num_actv_rev_tl\":2,\"num_bc_sats\":2,\"num_bc_tl\":5,\"num_il_tl\":1,\"num_op_rev_tl\":2,\"num_rev_accts\":7,\"num_rev_tl_bal_gt_0\":2,\"num_sats\":4,\"num_tl_op_past_12m\":1,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":0,\"tot_hi_cred_lim\":260572,\"total_bal_ex_mort\":24645,\"total_bc_limit\":19000,\"total_il_high_credit_limit\":28429,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":308448},{\"loan_amnt\":20350,\"funded_amnt\":20350,\"funded_amnt_inv\":20350,\"term\":\"36 months\",\"int_rate\":7.35,\"installment\":631.62,\"annual_inc\":70000,\"pymnt_plan\":\"n\",\"dti\":9.94,\"fico_range_low\":700,\"fico_range_high\":704,\"open_acc\":5,\"revol_bal\":12438,\"revol_util\":76,\"total_acc\":5,\"out_prncp\":7301.65,\"out_prncp_inv\":7301.65,\"total_pymnt\":14538.46,\"total_pymnt_inv\":14538.46,\"total_rec_prncp\":13048.35,\"total_rec_int\":1490.11,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":631.62,\"last_fico_range_high\":794,\"last_fico_range_low\":790,\"application_type\":\"Individual\",\"tot_cur_bal\":37355,\"open_acc_6m\":0,\"open_act_il\":1,\"open_il_24m\":0,\"total_bal_il\":24917,\"il_util\":95,\"open_rv_12m\":0,\"open_rv_24m\":0,\"max_bal_bc\":4719,\"all_util\":76,\"total_rev_hi_lim\":16300,\"acc_open_past_24mths\":0,\"avg_cur_bal\":7471,\"bc_open_to_buy\":4075,\"bc_util\":76,\"mo_sin_old_rev_tl_op\":100,\"mo_sin_rcnt_rev_tl_op\":26,\"mo_sin_rcnt_tl\":26,\"mort_acc\":0,\"mths_since_recent_bc\":26,\"num_actv_bc_tl\":4,\"num_actv_rev_tl\":4,\"num_bc_sats\":4,\"num_bc_tl\":4,\"num_il_tl\":1,\"num_op_rev_tl\":4,\"num_rev_accts\":4,\"num_rev_tl_bal_gt_0\":3,\"num_sats\":5,\"num_tl_op_past_12m\":0,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":50,\"tot_hi_cred_lim\":42437,\"total_bal_ex_mort\":37355,\"total_bc_limit\":16300,\"total_il_high_credit_limit\":26137,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":328695},{\"loan_amnt\":20000,\"funded_amnt\":20000,\"funded_amnt_inv\":20000,\"term\":\"60 months\",\"int_rate\":27.27,\"installment\":613.94,\"annual_inc\":128000,\"pymnt_plan\":\"n\",\"dti\":3.79,\"fico_range_low\":695,\"fico_range_high\":699,\"open_acc\":10,\"revol_bal\":5828,\"revol_util\":67,\"total_acc\":22,\"out_prncp\":19510.73,\"out_prncp_inv\":19510.73,\"total_pymnt\":1781.22,\"total_pymnt_inv\":1781.22,\"total_rec_prncp\":489.27,\"total_rec_int\":1291.95,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":613.94,\"last_fico_range_high\":704,\"last_fico_range_low\":700,\"application_type\":\"Joint App\",\"tot_cur_bal\":209632,\"open_acc_6m\":3,\"open_act_il\":3,\"open_il_24m\":1,\"total_bal_il\":3600,\"il_util\":32,\"open_rv_12m\":5,\"open_rv_24m\":6,\"max_bal_bc\":1677,\"all_util\":48,\"total_rev_hi_lim\":8700,\"acc_open_past_24mths\":7,\"avg_cur_bal\":20963,\"bc_open_to_buy\":2872,\"bc_util\":67,\"mo_sin_old_rev_tl_op\":315,\"mo_sin_rcnt_rev_tl_op\":5,\"mo_sin_rcnt_tl\":5,\"mort_acc\":5,\"mths_since_recent_bc\":5,\"num_actv_bc_tl\":6,\"num_actv_rev_tl\":6,\"num_bc_sats\":6,\"num_bc_tl\":8,\"num_il_tl\":5,\"num_op_rev_tl\":6,\"num_rev_accts\":11,\"num_rev_tl_bal_gt_0\":6,\"num_sats\":10,\"num_tl_op_past_12m\":5,\"pct_tl_nvr_dlq\":81.8,\"percent_bc_gt_75\":16.7,\"tot_hi_cred_lim\":230197,\"total_bal_ex_mort\":9428,\"total_bc_limit\":8700,\"total_il_high_credit_limit\":11162,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":21185},{\"loan_amnt\":5000,\"funded_amnt\":5000,\"funded_amnt_inv\":5000,\"term\":\"36 months\",\"int_rate\":9.16,\"installment\":159.38,\"annual_inc\":82000,\"pymnt_plan\":\"n\",\"dti\":25.29,\"fico_range_low\":675,\"fico_range_high\":679,\"open_acc\":22,\"revol_bal\":14812,\"revol_util\":50.9,\"total_acc\":45,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":5106.76,\"total_pymnt_inv\":5106.76,\"total_rec_prncp\":5000,\"total_rec_int\":106.76,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":4949.92,\"last_fico_range_high\":709,\"last_fico_range_low\":705,\"application_type\":\"Individual\",\"tot_cur_bal\":433305,\"open_acc_6m\":0,\"open_act_il\":7,\"open_il_24m\":2,\"total_bal_il\":47604,\"il_util\":81,\"open_rv_12m\":0,\"open_rv_24m\":2,\"max_bal_bc\":2088,\"all_util\":71,\"total_rev_hi_lim\":29100,\"acc_open_past_24mths\":7,\"avg_cur_bal\":21665,\"bc_open_to_buy\":1039,\"bc_util\":80,\"mo_sin_old_rev_tl_op\":123,\"mo_sin_rcnt_rev_tl_op\":14,\"mo_sin_rcnt_tl\":11,\"mort_acc\":3,\"mths_since_recent_bc\":105,\"num_actv_bc_tl\":4,\"num_actv_rev_tl\":12,\"num_bc_sats\":4,\"num_bc_tl\":5,\"num_il_tl\":24,\"num_op_rev_tl\":14,\"num_rev_accts\":15,\"num_rev_tl_bal_gt_0\":12,\"num_sats\":22,\"num_tl_op_past_12m\":2,\"pct_tl_nvr_dlq\":84.4,\"percent_bc_gt_75\":50,\"tot_hi_cred_lim\":464155,\"total_bal_ex_mort\":62416,\"total_bc_limit\":5200,\"total_il_high_credit_limit\":58825,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":282734},{\"loan_amnt\":12000,\"funded_amnt\":12000,\"funded_amnt_inv\":12000,\"term\":\"36 months\",\"int_rate\":6.24,\"installment\":366.37,\"annual_inc\":80000,\"pymnt_plan\":\"n\",\"dti\":14.58,\"fico_range_low\":680,\"fico_range_high\":684,\"open_acc\":6,\"revol_bal\":5093,\"revol_util\":37.4,\"total_acc\":11,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":13185.1444,\"total_pymnt_inv\":13185.14,\"total_rec_prncp\":12000,\"total_rec_int\":1185.14,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":366.35,\"last_fico_range_high\":634,\"last_fico_range_low\":630,\"application_type\":\"Individual\",\"tot_cur_bal\":58584,\"total_rev_hi_lim\":13600,\"acc_open_past_24mths\":2,\"avg_cur_bal\":9764,\"bc_open_to_buy\":8175,\"bc_util\":34.6,\"mo_sin_old_rev_tl_op\":169,\"mo_sin_rcnt_rev_tl_op\":7,\"mo_sin_rcnt_tl\":7,\"mort_acc\":2,\"mths_since_recent_bc\":7,\"num_actv_bc_tl\":2,\"num_actv_rev_tl\":3,\"num_bc_sats\":2,\"num_bc_tl\":5,\"num_il_tl\":3,\"num_op_rev_tl\":3,\"num_rev_accts\":6,\"num_rev_tl_bal_gt_0\":3,\"num_sats\":6,\"num_tl_op_past_12m\":2,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":0,\"tot_hi_cred_lim\":98478,\"total_bal_ex_mort\":17184,\"total_bc_limit\":12500,\"total_il_high_credit_limit\":36781,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":270577},{\"loan_amnt\":24250,\"funded_amnt\":24250,\"funded_amnt_inv\":23975,\"term\":\"36 months\",\"int_rate\":14.59,\"installment\":835.78,\"annual_inc\":155000,\"pymnt_plan\":\"n\",\"dti\":7.52,\"fico_range_low\":695,\"fico_range_high\":699,\"open_acc\":12,\"revol_bal\":24282,\"revol_util\":34.1,\"total_acc\":39,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":30030.1097,\"total_pymnt_inv\":29689.56,\"total_rec_prncp\":24250,\"total_rec_int\":5780.11,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":3312.75,\"last_fico_range_high\":564,\"last_fico_range_low\":560,\"application_type\":\"Individual\",\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":82817},{\"loan_amnt\":19200,\"funded_amnt\":19200,\"funded_amnt_inv\":19200,\"term\":\"60 months\",\"int_rate\":18.25,\"installment\":490.17,\"annual_inc\":190413,\"pymnt_plan\":\"n\",\"dti\":27.43,\"fico_range_low\":705,\"fico_range_high\":709,\"open_acc\":11,\"revol_bal\":31581,\"revol_util\":47.4,\"total_acc\":30,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":12254.73,\"total_pymnt_inv\":12254.73,\"total_rec_prncp\":5408.13,\"total_rec_int\":5826.85,\"total_rec_late_fee\":0,\"recoveries\":1019.75,\"collection_recovery_fee\":183.555,\"last_pymnt_amnt\":490.17,\"last_fico_range_high\":529,\"last_fico_range_low\":525,\"application_type\":\"Individual\",\"tot_cur_bal\":208668,\"total_rev_hi_lim\":66600,\"acc_open_past_24mths\":9,\"avg_cur_bal\":20867,\"bc_open_to_buy\":13812,\"bc_util\":16.8,\"mo_sin_old_rev_tl_op\":208,\"mo_sin_rcnt_rev_tl_op\":11,\"mo_sin_rcnt_tl\":10,\"mort_acc\":7,\"mths_since_recent_bc\":11,\"num_actv_bc_tl\":3,\"num_actv_rev_tl\":6,\"num_bc_sats\":4,\"num_bc_tl\":7,\"num_il_tl\":12,\"num_op_rev_tl\":7,\"num_rev_accts\":11,\"num_rev_tl_bal_gt_0\":6,\"num_sats\":11,\"num_tl_op_past_12m\":8,\"pct_tl_nvr_dlq\":96.6,\"percent_bc_gt_75\":0,\"tot_hi_cred_lim\":271243,\"total_bal_ex_mort\":208668,\"total_bc_limit\":16600,\"total_il_high_credit_limit\":204643,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":262922},{\"loan_amnt\":12000,\"funded_amnt\":12000,\"funded_amnt_inv\":12000,\"term\":\"60 months\",\"int_rate\":16.99,\"installment\":298.17,\"annual_inc\":68000,\"pymnt_plan\":\"n\",\"dti\":18.43,\"fico_range_low\":660,\"fico_range_high\":664,\"open_acc\":11,\"revol_bal\":10869,\"revol_util\":92.9,\"total_acc\":27,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":14044.8,\"total_pymnt_inv\":14044.8,\"total_rec_prncp\":12000,\"total_rec_int\":2044.8,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":10764.93,\"last_fico_range_high\":714,\"last_fico_range_low\":710,\"application_type\":\"Individual\",\"tot_cur_bal\":214449,\"total_rev_hi_lim\":11700,\"acc_open_past_24mths\":5,\"avg_cur_bal\":19495,\"bc_open_to_buy\":273,\"bc_util\":94.5,\"mo_sin_old_rev_tl_op\":182,\"mo_sin_rcnt_rev_tl_op\":11,\"mo_sin_rcnt_tl\":11,\"mort_acc\":2,\"mths_since_recent_bc\":22,\"num_actv_bc_tl\":3,\"num_actv_rev_tl\":5,\"num_bc_sats\":3,\"num_bc_tl\":5,\"num_il_tl\":15,\"num_op_rev_tl\":5,\"num_rev_accts\":10,\"num_rev_tl_bal_gt_0\":5,\"num_sats\":11,\"num_tl_op_past_12m\":1,\"pct_tl_nvr_dlq\":85.2,\"percent_bc_gt_75\":100,\"tot_hi_cred_lim\":233421,\"total_bal_ex_mort\":41971,\"total_bc_limit\":5000,\"total_il_high_credit_limit\":46068,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":272784},{\"loan_amnt\":12000,\"funded_amnt\":12000,\"funded_amnt_inv\":12000,\"term\":\"60 months\",\"int_rate\":14.07,\"installment\":279.66,\"annual_inc\":40000,\"pymnt_plan\":\"n\",\"dti\":45.24,\"fico_range_low\":720,\"fico_range_high\":724,\"open_acc\":19,\"revol_bal\":28609,\"revol_util\":58.5,\"total_acc\":41,\"out_prncp\":10220.63,\"out_prncp_inv\":10220.63,\"total_pymnt\":3346.54,\"total_pymnt_inv\":3346.54,\"total_rec_prncp\":1779.37,\"total_rec_int\":1567.17,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":279.66,\"last_fico_range_high\":719,\"last_fico_range_low\":715,\"application_type\":\"Joint App\",\"tot_cur_bal\":179465,\"open_acc_6m\":0,\"open_act_il\":4,\"open_il_24m\":3,\"total_bal_il\":22559,\"il_util\":75,\"open_rv_12m\":0,\"open_rv_24m\":1,\"max_bal_bc\":13728,\"all_util\":65,\"total_rev_hi_lim\":48900,\"acc_open_past_24mths\":4,\"avg_cur_bal\":10557,\"bc_open_to_buy\":5399,\"bc_util\":78.3,\"mo_sin_old_rev_tl_op\":262,\"mo_sin_rcnt_rev_tl_op\":19,\"mo_sin_rcnt_tl\":13,\"mort_acc\":4,\"mths_since_recent_bc\":48,\"num_actv_bc_tl\":4,\"num_actv_rev_tl\":8,\"num_bc_sats\":5,\"num_bc_tl\":6,\"num_il_tl\":17,\"num_op_rev_tl\":14,\"num_rev_accts\":20,\"num_rev_tl_bal_gt_0\":8,\"num_sats\":19,\"num_tl_op_past_12m\":0,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":80,\"tot_hi_cred_lim\":214214,\"total_bal_ex_mort\":51168,\"total_bc_limit\":24900,\"total_il_high_credit_limit\":30241,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":220516},{\"loan_amnt\":4900,\"funded_amnt\":4900,\"funded_amnt_inv\":4900,\"term\":\"36 months\",\"int_rate\":8.08,\"installment\":153.73,\"annual_inc\":82000,\"pymnt_plan\":\"n\",\"dti\":27.47,\"fico_range_low\":790,\"fico_range_high\":794,\"open_acc\":11,\"revol_bal\":4368,\"revol_util\":8.2,\"total_acc\":24,\"out_prncp\":3655.39,\"out_prncp_inv\":3655.39,\"total_pymnt\":1531.8,\"total_pymnt_inv\":1531.8,\"total_rec_prncp\":1244.61,\"total_rec_int\":287.19,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":153.73,\"last_fico_range_high\":734,\"last_fico_range_low\":730,\"application_type\":\"Individual\",\"tot_cur_bal\":60858,\"open_acc_6m\":0,\"open_act_il\":3,\"open_il_24m\":4,\"total_bal_il\":56490,\"il_util\":76,\"open_rv_12m\":0,\"open_rv_24m\":2,\"max_bal_bc\":4261,\"all_util\":48,\"total_rev_hi_lim\":53200,\"acc_open_past_24mths\":6,\"avg_cur_bal\":6086,\"bc_open_to_buy\":37739,\"bc_util\":10.1,\"mo_sin_old_rev_tl_op\":155,\"mo_sin_rcnt_rev_tl_op\":15,\"mo_sin_rcnt_tl\":8,\"mort_acc\":0,\"mths_since_recent_bc\":19,\"num_actv_bc_tl\":1,\"num_actv_rev_tl\":2,\"num_bc_sats\":5,\"num_bc_tl\":5,\"num_il_tl\":16,\"num_op_rev_tl\":8,\"num_rev_accts\":8,\"num_rev_tl_bal_gt_0\":2,\"num_sats\":11,\"num_tl_op_past_12m\":3,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":0,\"tot_hi_cred_lim\":127910,\"total_bal_ex_mort\":60858,\"total_bc_limit\":42000,\"total_il_high_credit_limit\":74710,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":204161},{\"loan_amnt\":15000,\"funded_amnt\":15000,\"funded_amnt_inv\":15000,\"term\":\"36 months\",\"int_rate\":18.06,\"installment\":542.74,\"annual_inc\":85000,\"pymnt_plan\":\"n\",\"dti\":33.4,\"fico_range_low\":680,\"fico_range_high\":684,\"open_acc\":11,\"revol_bal\":5244,\"revol_util\":90.4,\"total_acc\":17,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":4546.91,\"total_pymnt_inv\":4546.91,\"total_rec_prncp\":1633.38,\"total_rec_int\":1065.27,\"total_rec_late_fee\":0,\"recoveries\":1848.26,\"collection_recovery_fee\":332.6868,\"last_pymnt_amnt\":542.74,\"last_fico_range_high\":529,\"last_fico_range_low\":525,\"application_type\":\"Individual\",\"tot_cur_bal\":312685,\"open_acc_6m\":0,\"open_act_il\":6,\"open_il_24m\":4,\"total_bal_il\":49399,\"il_util\":52,\"open_rv_12m\":0,\"open_rv_24m\":0,\"max_bal_bc\":2728,\"all_util\":54,\"total_rev_hi_lim\":5800,\"acc_open_past_24mths\":7,\"avg_cur_bal\":31269,\"bc_open_to_buy\":556,\"bc_util\":90.4,\"mo_sin_old_rev_tl_op\":79,\"mo_sin_rcnt_rev_tl_op\":41,\"mo_sin_rcnt_tl\":7,\"mort_acc\":4,\"mths_since_recent_bc\":41,\"num_actv_bc_tl\":3,\"num_actv_rev_tl\":3,\"num_bc_sats\":3,\"num_bc_tl\":3,\"num_il_tl\":9,\"num_op_rev_tl\":4,\"num_rev_accts\":4,\"num_rev_tl_bal_gt_0\":3,\"num_sats\":11,\"num_tl_op_past_12m\":2,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":66.7,\"tot_hi_cred_lim\":365472,\"total_bal_ex_mort\":54643,\"total_bc_limit\":5800,\"total_il_high_credit_limit\":95733,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":161644},{\"loan_amnt\":20000,\"funded_amnt\":20000,\"funded_amnt_inv\":20000,\"term\":\"60 months\",\"int_rate\":14.08,\"installment\":466.2,\"annual_inc\":45000,\"pymnt_plan\":\"n\",\"dti\":15.73,\"fico_range_low\":695,\"fico_range_high\":699,\"open_acc\":15,\"revol_bal\":144,\"revol_util\":0.6,\"total_acc\":40,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":23159.8019,\"total_pymnt_inv\":23159.8,\"total_rec_prncp\":20000,\"total_rec_int\":3159.8,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":2515.52,\"last_fico_range_high\":729,\"last_fico_range_low\":725,\"application_type\":\"Individual\",\"tot_cur_bal\":26758,\"open_acc_6m\":0,\"open_act_il\":3,\"open_il_24m\":2,\"total_bal_il\":26614,\"il_util\":71,\"open_rv_12m\":1,\"open_rv_24m\":1,\"max_bal_bc\":140,\"all_util\":42,\"total_rev_hi_lim\":26100,\"acc_open_past_24mths\":3,\"avg_cur_bal\":1784,\"bc_open_to_buy\":24756,\"bc_util\":0.6,\"mo_sin_old_rev_tl_op\":369,\"mo_sin_rcnt_rev_tl_op\":7,\"mo_sin_rcnt_tl\":7,\"mort_acc\":0,\"mths_since_recent_bc\":7,\"num_actv_bc_tl\":2,\"num_actv_rev_tl\":2,\"num_bc_sats\":10,\"num_bc_tl\":16,\"num_il_tl\":14,\"num_op_rev_tl\":12,\"num_rev_accts\":26,\"num_rev_tl_bal_gt_0\":2,\"num_sats\":15,\"num_tl_op_past_12m\":3,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":0,\"tot_hi_cred_lim\":63654,\"total_bal_ex_mort\":26758,\"total_bc_limit\":24900,\"total_il_high_credit_limit\":37554,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":301540},{\"loan_amnt\":5000,\"funded_amnt\":5000,\"funded_amnt_inv\":5000,\"term\":\"36 months\",\"int_rate\":13.56,\"installment\":169.83,\"annual_inc\":47000,\"pymnt_plan\":\"n\",\"dti\":48.72,\"fico_range_low\":705,\"fico_range_high\":709,\"open_acc\":17,\"revol_bal\":5950,\"revol_util\":21.5,\"total_acc\":33,\"out_prncp\":4656.15,\"out_prncp_inv\":4656.15,\"total_pymnt\":515.15,\"total_pymnt_inv\":515.15,\"total_rec_prncp\":343.85,\"total_rec_int\":171.3,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":169.83,\"last_fico_range_high\":679,\"last_fico_range_low\":675,\"application_type\":\"Joint App\",\"tot_cur_bal\":227913,\"open_acc_6m\":2,\"open_act_il\":4,\"open_il_24m\":3,\"total_bal_il\":87651,\"il_util\":96,\"open_rv_12m\":1,\"open_rv_24m\":9,\"max_bal_bc\":4599,\"all_util\":72,\"total_rev_hi_lim\":27700,\"acc_open_past_24mths\":13,\"avg_cur_bal\":13407,\"bc_open_to_buy\":9750,\"bc_util\":37.9,\"mo_sin_old_rev_tl_op\":86,\"mo_sin_rcnt_rev_tl_op\":6,\"mo_sin_rcnt_tl\":2,\"mort_acc\":1,\"mths_since_recent_bc\":6,\"num_actv_bc_tl\":4,\"num_actv_rev_tl\":4,\"num_bc_sats\":9,\"num_bc_tl\":10,\"num_il_tl\":16,\"num_op_rev_tl\":12,\"num_rev_accts\":15,\"num_rev_tl_bal_gt_0\":4,\"num_sats\":17,\"num_tl_op_past_12m\":3,\"pct_tl_nvr_dlq\":81.8,\"percent_bc_gt_75\":11.1,\"tot_hi_cred_lim\":270597,\"total_bal_ex_mort\":93601,\"total_bc_limit\":15700,\"total_il_high_credit_limit\":105433,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":54021},{\"loan_amnt\":3000,\"funded_amnt\":3000,\"funded_amnt_inv\":3000,\"term\":\"36 months\",\"int_rate\":11.99,\"installment\":99.63,\"annual_inc\":32000,\"pymnt_plan\":\"n\",\"dti\":18.58,\"fico_range_low\":700,\"fico_range_high\":704,\"open_acc\":9,\"revol_bal\":4230,\"revol_util\":42.2,\"total_acc\":33,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":3586.6198,\"total_pymnt_inv\":3586.62,\"total_rec_prncp\":3000,\"total_rec_int\":586.62,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":99.57,\"last_fico_range_high\":674,\"last_fico_range_low\":670,\"application_type\":\"Individual\",\"tot_cur_bal\":52094,\"total_rev_hi_lim\":10030,\"acc_open_past_24mths\":6,\"avg_cur_bal\":5788,\"bc_open_to_buy\":3183,\"bc_util\":53.2,\"mo_sin_old_rev_tl_op\":86,\"mo_sin_rcnt_rev_tl_op\":4,\"mo_sin_rcnt_tl\":4,\"mort_acc\":0,\"mths_since_recent_bc\":22,\"num_actv_bc_tl\":3,\"num_actv_rev_tl\":5,\"num_bc_sats\":4,\"num_bc_tl\":4,\"num_il_tl\":22,\"num_op_rev_tl\":6,\"num_rev_accts\":11,\"num_rev_tl_bal_gt_0\":5,\"num_sats\":9,\"num_tl_op_past_12m\":2,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":50,\"tot_hi_cred_lim\":61938,\"total_bal_ex_mort\":52094,\"total_bc_limit\":6800,\"total_il_high_credit_limit\":51908,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":165505},{\"loan_amnt\":24000,\"funded_amnt\":24000,\"funded_amnt_inv\":24000,\"term\":\"60 months\",\"int_rate\":17.86,\"installment\":607.62,\"annual_inc\":80000,\"pymnt_plan\":\"n\",\"dti\":25.64,\"fico_range_low\":690,\"fico_range_high\":694,\"open_acc\":26,\"revol_bal\":27317,\"revol_util\":74,\"total_acc\":49,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":26682.28,\"total_pymnt_inv\":26682.28,\"total_rec_prncp\":24000,\"total_rec_int\":2682.28,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":23060.37,\"last_fico_range_high\":684,\"last_fico_range_low\":680,\"application_type\":\"Individual\",\"tot_cur_bal\":248952,\"total_rev_hi_lim\":36900,\"acc_open_past_24mths\":10,\"avg_cur_bal\":9575,\"bc_open_to_buy\":2888,\"bc_util\":88.8,\"mo_sin_old_rev_tl_op\":159,\"mo_sin_rcnt_rev_tl_op\":11,\"mo_sin_rcnt_tl\":7,\"mort_acc\":4,\"mths_since_recent_bc\":13,\"num_actv_bc_tl\":8,\"num_actv_rev_tl\":12,\"num_bc_sats\":8,\"num_bc_tl\":8,\"num_il_tl\":28,\"num_op_rev_tl\":12,\"num_rev_accts\":17,\"num_rev_tl_bal_gt_0\":12,\"num_sats\":26,\"num_tl_op_past_12m\":2,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":87.5,\"tot_hi_cred_lim\":278183,\"total_bal_ex_mort\":88527,\"total_bc_limit\":25700,\"total_il_high_credit_limit\":73121,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":173286},{\"loan_amnt\":21000,\"funded_amnt\":21000,\"funded_amnt_inv\":21000,\"term\":\"60 months\",\"int_rate\":22.78,\"installment\":589.35,\"annual_inc\":122000,\"pymnt_plan\":\"n\",\"dti\":14.14,\"fico_range_low\":675,\"fico_range_high\":679,\"open_acc\":11,\"revol_bal\":15219,\"revol_util\":67,\"total_acc\":21,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":27884.8097,\"total_pymnt_inv\":27884.81,\"total_rec_prncp\":21000,\"total_rec_int\":6884.81,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":17283.33,\"last_fico_range_high\":699,\"last_fico_range_low\":695,\"application_type\":\"Individual\",\"acc_open_past_24mths\":5,\"bc_open_to_buy\":2496,\"bc_util\":75.8,\"mort_acc\":4,\"mths_since_recent_bc\":4,\"percent_bc_gt_75\":50,\"total_bal_ex_mort\":45152,\"total_bc_limit\":10300,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":59130},{\"loan_amnt\":22000,\"funded_amnt\":22000,\"funded_amnt_inv\":22000,\"term\":\"36 months\",\"int_rate\":5.32,\"installment\":662.53,\"annual_inc\":110000,\"pymnt_plan\":\"n\",\"dti\":6.35,\"fico_range_low\":755,\"fico_range_high\":759,\"open_acc\":12,\"revol_bal\":22858,\"revol_util\":33.6,\"total_acc\":50,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":23646.3965,\"total_pymnt_inv\":23646.4,\"total_rec_prncp\":22000,\"total_rec_int\":1646.4,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":451.94,\"last_fico_range_high\":769,\"last_fico_range_low\":765,\"application_type\":\"Individual\",\"tot_cur_bal\":231265,\"total_rev_hi_lim\":68100,\"acc_open_past_24mths\":7,\"avg_cur_bal\":19272,\"bc_open_to_buy\":25456,\"bc_util\":21.2,\"mo_sin_old_rev_tl_op\":207,\"mo_sin_rcnt_rev_tl_op\":4,\"mo_sin_rcnt_tl\":3,\"mort_acc\":5,\"mths_since_recent_bc\":4,\"num_actv_bc_tl\":4,\"num_actv_rev_tl\":8,\"num_bc_sats\":5,\"num_bc_tl\":20,\"num_il_tl\":3,\"num_op_rev_tl\":10,\"num_rev_accts\":41,\"num_rev_tl_bal_gt_0\":8,\"num_sats\":12,\"num_tl_op_past_12m\":4,\"pct_tl_nvr_dlq\":100,\"percent_bc_gt_75\":0,\"tot_hi_cred_lim\":309600,\"total_bal_ex_mort\":26711,\"total_bc_limit\":32300,\"total_il_high_credit_limit\":4000,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":275798},{\"loan_amnt\":35000,\"funded_amnt\":35000,\"funded_amnt_inv\":35000,\"term\":\"60 months\",\"int_rate\":11.49,\"installment\":769.57,\"annual_inc\":123000,\"pymnt_plan\":\"n\",\"dti\":18.03,\"fico_range_low\":680,\"fico_range_high\":684,\"open_acc\":6,\"revol_bal\":31673,\"revol_util\":97,\"total_acc\":26,\"out_prncp\":22773.95,\"out_prncp_inv\":22773.95,\"total_pymnt\":18962.8,\"total_pymnt_inv\":18962.8,\"total_rec_prncp\":12226.05,\"total_rec_int\":6736.75,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":769.57,\"last_fico_range_high\":749,\"last_fico_range_low\":745,\"application_type\":\"Individual\",\"tot_cur_bal\":180989,\"open_acc_6m\":0,\"open_act_il\":3,\"open_il_24m\":0,\"total_bal_il\":41012,\"il_util\":53,\"open_rv_12m\":0,\"open_rv_24m\":0,\"max_bal_bc\":20829,\"all_util\":97,\"total_rev_hi_lim\":32800,\"acc_open_past_24mths\":0,\"avg_cur_bal\":30164,\"bc_open_to_buy\":16400,\"bc_util\":97,\"mo_sin_old_rev_tl_op\":251,\"mo_sin_rcnt_rev_tl_op\":45,\"mo_sin_rcnt_tl\":35,\"mort_acc\":7,\"mths_since_recent_bc\":53,\"num_actv_bc_tl\":2,\"num_actv_rev_tl\":2,\"num_bc_sats\":3,\"num_bc_tl\":4,\"num_il_tl\":12,\"num_op_rev_tl\":2,\"num_rev_accts\":7,\"num_rev_tl_bal_gt_0\":2,\"num_sats\":6,\"num_tl_op_past_12m\":0,\"pct_tl_nvr_dlq\":96,\"percent_bc_gt_75\":100,\"tot_hi_cred_lim\":240795,\"total_bal_ex_mort\":72685,\"total_bc_limit\":32800,\"total_il_high_credit_limit\":76895,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":82565},{\"loan_amnt\":22000,\"funded_amnt\":22000,\"funded_amnt_inv\":22000,\"term\":\"60 months\",\"int_rate\":20.75,\"installment\":592.09,\"annual_inc\":55000,\"pymnt_plan\":\"n\",\"dti\":31.43,\"fico_range_low\":675,\"fico_range_high\":679,\"open_acc\":11,\"revol_bal\":34078,\"revol_util\":54.3,\"total_acc\":22,\"out_prncp\":0,\"out_prncp_inv\":0,\"total_pymnt\":32569.2764,\"total_pymnt_inv\":32569.28,\"total_rec_prncp\":22000,\"total_rec_int\":10569.28,\"total_rec_late_fee\":0,\"recoveries\":0,\"collection_recovery_fee\":0,\"last_pymnt_amnt\":13055.67,\"last_fico_range_high\":699,\"last_fico_range_low\":695,\"application_type\":\"Individual\",\"tot_cur_bal\":46878,\"open_acc_6m\":0,\"open_act_il\":1,\"open_il_24m\":3,\"total_bal_il\":12800,\"il_util\":85,\"open_rv_12m\":2,\"open_rv_24m\":3,\"max_bal_bc\":15854,\"all_util\":60,\"total_rev_hi_lim\":62800,\"acc_open_past_24mths\":6,\"avg_cur_bal\":4262,\"bc_open_to_buy\":19559,\"bc_util\":61.5,\"mo_sin_old_rev_tl_op\":418,\"mo_sin_rcnt_rev_tl_op\":9,\"mo_sin_rcnt_tl\":9,\"mort_acc\":0,\"mths_since_recent_bc\":21,\"num_actv_bc_tl\":5,\"num_actv_rev_tl\":7,\"num_bc_sats\":6,\"num_bc_tl\":10,\"num_il_tl\":6,\"num_op_rev_tl\":10,\"num_rev_accts\":16,\"num_rev_tl_bal_gt_0\":7,\"num_sats\":11,\"num_tl_op_past_12m\":2,\"pct_tl_nvr_dlq\":81.8,\"percent_bc_gt_75\":33.3,\"tot_hi_cred_lim\":77800,\"total_bal_ex_mort\":46878,\"total_bc_limit\":50800,\"total_il_high_credit_limit\":15000,\"hardship_flag\":\"N\",\"disbursement_method\":\"Cash\",\"debt_settlement_flag\":\"N\",\"id\":293000}]";
        ObjectMapper mapper = new ObjectMapper();
        CollectionType mapCollectionType = mapper.getTypeFactory().constructCollectionType(List.class, Map.class);
        List<Map<String, String>> cdataArray = mapper.readValue(json, mapCollectionType);
        List<Map<String, ?>> responses = new ArrayList<>();
        
        
        
        for (Map<String, String> cdata : cdataArray) {
            //String sdata = "10000,10000,10000,36 months,12.99,336.9,90000,n,23.01,690,694,12,1661,15,36,0,0,11447.72,11447.72,10000,1447.72,0,0,0,6394.22,654,650,Individual,42037,NA,NA,NA,NA,NA,NA,NA,NA,NA,11100,5,3822,6406,11,128,25,2,5,25,1,2,3,11,11,7,20,2,12,3,96.9,0,62454,42037,7200,51354,N,Cash,N,TRUE,242349";
            List<InputField> infield = evaluator.getInputFields();
            Object id =cdata.get("id");
            //List<String> cdata = Arrays.asList(sdata.split(","));
            Map<FieldName, Object> arguments = new HashMap<>();
            for (int i = 0; i < infield.size(); i++) {
                FieldValue fieldValue = new FieldValue();
                fieldValue.setField(infield.get(i).getFieldName());
                Object cdataValue=cdata.get(infield.get(i).getFieldName().getValue());
                boolean isNumeric = infield.get(i).getOpType().equals(OpType.CONTINUOUS);
                //System.out.println("Field name:" + infield.get(i).getFieldName().getValue() + "---value:" + cdataValue);
                if ("NA".equals(cdataValue)) {
                    arguments.put(infield.get(i).getFieldName(), null);
                } else {
                    if (isNumeric) {
                        //fieldValue.setValue(new Double(Double.parseDouble(cdata.get(i))));
                        arguments.put(infield.get(i).getFieldName(), cdataValue);
                    } else {
                        //fieldValue.setValue(cdata.get(i));
                        arguments.put(infield.get(i).getFieldName(), cdataValue);
                    }
                }

            }

            Map<FieldName, ?> responseRaw = evaluator.evaluate(arguments);
            Map<String, Object> response = new HashMap<>();
            for(Map.Entry<FieldName,?> entry : responseRaw.entrySet()){
                response.put(entry.getKey().getValue(), EvaluatorUtil.decode(entry.getValue()));
            }
            response.put("id",id);
            responses.add(response);
        }
        
        ObjectMapper objectMapper = new ObjectMapper();
        String responseJson = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(responses);
        System.out.println("Response:"+responseJson);
    }

    public void run() throws Exception {
        URL resource = getClass().getClassLoader().getResource("default_model_normal.pmml");

        Evaluator evaluator = new LoadingModelEvaluatorBuilder()
                .load(new File(resource.toURI()))
                .build();

        //String sdata= "44089, 119, 8, 0.270977647, 1500, 15, 75019, 4230, 996, 124.18, 120.53, 10, 0.8609, 0.8462, 13506990, 0.8049, 0.7984, 0.6469, 0.8462, 0.8839, 0.8839, 2345967360, 99, 72, 1332936, 99, 99, 122.03, 109.56, 99, 0.9612, 0, 0, 0, 15, 0, 0, 0.8192, 0.80856, 0.76574, 15, 0.063369, -0.625469, 0.91195, 0.89551, 0.848273, 15, 0.8531, 0.85158, 0.781953, 15, 0.068671, -0.666065, 0.66345, 0.65221, 0.563587, 15, 0.90195, 0.88551, 0.837387, 15, 0.9706, 0.96508, 0.933373, 0.055626, 8.4856, 10, -0.08, -0.11, 0.2084, -0.08, 9, 15, 7.28, 8.69, 6.99, 29558, 275256, 0.92, 1.42, 0.01, 0, 0.06, 265, 265, 265, 265, 0.24, 1.55, 1.96, 0.01, 0, 0.08, 320, 320, 320, 320, 0.26, 1.49, 1.86, 0.01, 0, 0.08, 349, 349, 349, 349, 0.28, 1.43, 1.76, 0.01, 0, 0.14, 585, 585, 585, 585, 0.35, 1.26, 1.5, 0.02, 0, 0.22, 934, 934, 934, 934, 0.41, 1.12, 1.31, 13.63, 0, 552.3, 2336227, 33995067621, 2.19e+15, 2.078036294976e+20, 2780.58, 2.86, 5.32, 3.78, 3.19, 7.11, 4148, 44264, 610346, 10208972, 1.05, 1.48, 0.01, 0, 0.1, 60, 60, 60, 60, 0.3, 1.4, 1.7, 0.01, 0, 0.08, 45, 45, 45, 45, 0.27, 1.45, 1.8, 0.58, 0.9, 0.09, 55, 55, 55, 55, 0.29, 1.42, 1.74, 0.01, 0, 0.18, 105, 105, 105, 105, 0.38, 1.2, 1.41, 0.58, 0.9, 0.27, 160, 160, 160, 160, 0.45, 1, 1.19, 234.35, 275.54, 1780.6, 1038087, 57061055571, 9.98e+15, 2.0675195120518e+21, 9731.62, 2.62, 4.42, 3.7, 3.17, 7.49, 7461, 75569, 920193, 12824513, 4.44, 0.88, 1.35, 0.01, 0, 0.06, 57, 57, 57, 57, 0.23, 1.57, 2, 0.13, 0.01, 0.08, 79, 79, 79, 79, 0.27, 1.46, 1.81, 0.51, 0.9, 0.08, 82, 82, 82, 82, 0.27, 1.48, 1.83, 0.13, 0.01, 0.14, 136, 136, 136, 136, 0.34, 1.29, 1.54, 0.63, 0.91, 0.22, 218, 218, 218, 218, 0.41, 1.12, 1.31, 250.1, 278.74, 597.05, 594665, 4426752587, 6.77e+13, 1.44e+18, 2021.89, 1.94, 2.96, 2.57, 2.81, 5.13, 77, 567, 5123, 52059, 3.38, 0.92, 0.26, 0.09, 0.13, 2, 2, 2, 2, 0.34, 0.13, 0.01, 0.07, 1, 1, 1, 1, 0.25, 0.58, 0.9, 0.27, 4, 4, 4, 4, 0.44, 0.39, 0.1, 0.2, 3, 3, 3, 3, 0.4, 0.97, 1, 0.47, 7, 7, 7, 7, 0.5, 0.51, 1, 1591.05, 745.62, 641.6, 9624, 32260834, 1.48e+11, 7.39e+14, 1318.74, 1.4, 1.75, 101.34, 99.82, 94.2, 15, 12816081, 1232862517, 8.15026, -0.78677, 1.28466, 101.34, 99.82, 94.2, 15, 1232862517, 8.15026, -0.78677, 1.28466, 125.425, 123.117, 113.54, 15, 23573784.774, 2850312115.969, 18.12333, -0.87402, 1.2137, 112.35, 110.504, 102.98333, 15, 1822450103.662, 12.16271, -0.84587, 1.25201, 70.74, 72.29, 59.2, 15, 54106, 3383070, 216389734, 10.1206, -0.4975, 1.1736, 2274391572.29, 2325148534.7, 1996643986.87, 15, 1.3234306211856e+29, 2.8712663252073e+38, 394694261.47, -1.04, 1.36, 0.0249, 0.0249, 0.0296, 0.0453, 0.0274, 3, 2750831228, 0.213, 16, 0.205, 0.217, 0.420667, 6.31, 15, 3.7773, 2.7074, 2.1294, 0.826869, 1.20148, 8032.96, 9541.15, 2403.4, 15, 232844697, 1.88e+12, 1.68e+16, 3121.96, 1.11, 5.355, 5.147, 6.9053, 103.58, 15, 738.46, 5428.81, 41057.14, 1.2438, 0.6767, 1.1544, 6.995, 6.991, 0.4867, 31562.48, 236507.99, 4230, 1782806.2, 7.4616, 6.105, 5.347, 2.2341, 26150.33, 195210.07, 3890, 0.9346, 1608764.47, 6.7224, 1.4615, 265, 265, 72.76, 545153, 92649105, 4230, 0.33, 17770456565, 128.88, 3.67e+12, 631476.43, 4934066963, 7.44e+15, 4231, -0.59, 1.2397131722966e+22, 1166170.4, 1.19, 2.1951403766659e+28, 262.7, 1889496, 1135802824, 4231, 0.48, 7.76e+11, 446.58, 5.71e+14, 585, 585, 164.39, 1179435, 443171703, 4230, 0.5, 1.9e+11, 278.83, 8.76e+13, 320, 320, 91.81, 634282, 130767130, 4230, 0.58, 30936421744, 149.95, 7.9e+12, 349, 349, 97.9, 710061, 159733861, 4230, 0.45, 40785525639, 167.86, 1.12e+13, 0.93619, 111.403, 0.0017, 5.595, 5.177, 2.3606, 6397.52, 49872.63, 914, 0.9032, 429239.32, 6.9995, 1.4569, 4066917.2, 594539.96, 594661.9, 184999.97, 322979010, 1.39e+14, 997, -0.55, 6.5991395846896e+19, 323950.86, 1.13, 3.2967539363739e+25, 57, 57, 17.13, 31813, 1308263, 996, 58663375, 31.94, 1.15, 2746741259, 78.88, 79, 22.28, 34891, 1716623, 996, 97839049, 35.03, 1.16, 6008434595, 81.5, 81.9, 23.63, 41595, 2293167, 996, 140872509, 41.76, 1.14, 9140703819, 135.88, 136, 38.97, 66704, 5979900, 996, 602923268, 66.97, 64687878876, 217.38, 217.9, 62.55, 108299, 15672435, 996, 2541359105, 108.73, 4.37e+11, -0.08, -0.08, 0.04, 0.0096, 0.0185, 0.00085, 0.00153, 4e-04, 0.0064, 0, 5.03, 10, 5.924, 10, -0.28, -0.3, 0, 28362.94, 198482.1878, 4222, 0.882611, 1447593.3799, 6.717892, 1.458484, -0.15, -0.09, 0, 0.01, 0, 0.49, 0.09, -0.08, -0.04, 2632368276.18, 2724338075.62, 2203044993.87, 15, 1.823272604825e+29, 4.4537689331782e+38, 487533302.62, 0.1665, 0.1917, 0.3554, 5.331, 15, 3.216, 2.36, 1.954, 0.2968, 0.89143, 1.286, 95.932, 0.948095, 0.942571, 0.8435547, 15, 0.1066313, 0.2234774, 1.1459187, 0.94, 9.65, -0.03, -0.07, 14, 70, 15.29, 13.45, 796, 134576, 33969736, 9460082264, 1.33, 1.65, 68.31, 69.87, 61.8462, 804, 13, 49978, 3122670, 4.4176, 772, 0.0296, -0.16, 0.64, 65, 3, 0.23, 11, 0, 1, 78.46, 15, 53.07, 1413, 134101, 1413, 134101, 12816081, 1703.1, 198296.8, 1544.75, 161302.478, 17052169.078, 888, 33045674908, 7.636643949243e+19, 0.273605, 29949659803, 6.2135561554901e+19, 36051, 0, 0, 0, 11.4861, 8.8556, 6.8724, 12.7241, 11.7293, 9.2425, 7.3364, 8.4538, 12.5608, 14.0006, 15, 13.1142, 14603505.73, 1.37162, 11018767.5472, 12.65332, 10.84432, 9.43572, 8.32749, 16, 0, 0, 2, 196111030, 125.19, 2003, 16, 251149, 31541057, 3967520185, 4.99, -6.19, 13560397.9, 1, -1.075, -4.691, -0.745, -11.92, 16, 354.58, 243.03, 19930.14, 4.6482, 0.8601, 5.3659, 10.8746, 9.3585, 8.1057, 0.073523, 5.8634, 4.8973, 2.9075, 1.7634, 0.094111, 10.6017, 9.0135, 7.7138, 0.074589, 12.3249, 11.62, -0.1161, 1, -0.77, -0.805, -0.783, -0.5793, -8.69, 15, 6.14, -4.71, 3.72, 0.2715, 0.7537, 0, 0, 393, 0";
        String sdata = "10000,10000,10000,36 months,12.99,336.9,90000,n,23.01,690,694,12,1661,15,36,0,0,11447.72,11447.72,10000,1447.72,0,0,0,6394.22,654,650,Individual,42037,NA,NA,NA,NA,NA,NA,NA,NA,NA,11100,5,3822,6406,11,128,25,2,5,25,1,2,3,11,11,7,20,2,12,3,96.9,0,62454,42037,7200,51354,N,Cash,N,TRUE,242349";
        List<InputField> infield = evaluator.getInputFields();

        List<String> cdata = Arrays.asList(sdata.split(","));
        Map<FieldName, Object> arguments = new HashMap<>();
        for (int i = 0; i < infield.size(); i++) {
            FieldValue fieldValue = new FieldValue();
            fieldValue.setField(infield.get(i).getFieldName());
            boolean isNumeric = infield.get(i).getOpType().equals(OpType.CONTINUOUS);
            System.out.println("Field name:" + infield.get(i).getFieldName().getValue() + "---value:" + cdata.get(i));
            if ("NA".equals(cdata.get(i))) {
                arguments.put(infield.get(i).getFieldName(), null);
            } else {
                if (isNumeric) {
                    //fieldValue.setValue(new Double(Double.parseDouble(cdata.get(i))));
                    arguments.put(infield.get(i).getFieldName(), Double.parseDouble(cdata.get(i)));
                } else {
                    //fieldValue.setValue(cdata.get(i));
                    arguments.put(infield.get(i).getFieldName(), cdata.get(i));
                }
            }

        }
        Map<FieldName, ?> response = evaluator.evaluate(arguments);
        System.out.println(response);
    }
}
